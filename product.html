<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
</head>

<body>
    <h1>Our Products</h1>
    <div id="demo"></div>
    <a href="cart.html">Go to Cart</a>

    <script>
        let products = [
            { id: 1, name: "BMW", color: "black", price: 13453 },
            { id: 2, name: "TOYOTA", color: "black", price: 2345 }
        ];

        let show = document.getElementById('demo');
        
        // Generating product list dynamically
        show.innerHTML = "<ul>";
        for (let i = 0; i < products.length; i++) {
            show.innerHTML += `<li id="product${i + 1}">
                <a href="product-detail.html?id=${products[i].id}">${products[i].name}</a>
                <button onclick="addToCart('${products[i].name}')">Add to Cart</button>
            </li>`;
        }
        show.innerHTML += "</ul>";

        function addToCart(productName) {
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push(productName);
            localStorage.setItem('cart', JSON.stringify(cart)); // Fix: Use 'cart' instead of 'product'
            alert(productName + ' added to cart!');
        }
    </script>
</body>

</html>
